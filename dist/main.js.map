{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/hyperapp.js","webpack:///./src/index.js"],"names":["h","name","attributes","rest","children","length","arguments","push","node","pop","nodeName","key","app","state","actions","view","container","map","rootElement","oldNode","recycleElement","console","log","lifecycle","skipRender","isRecycling","globalState","clone","wiredActions","wireStateToActions","scheduleRender","element","toLowerCase","call","childNodes","nodeType","nodeValue","resolveNode","render","patch","setTimeout","target","source","out","i","setPartialState","path","value","slice","getPartialState","action","data","result","then","concat","getKey","eventListener","event","currentTarget","events","type","updateAttribute","oldValue","isSvg","style","cssText","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateElement","oldAttributes","cb","onupdate","removeChildren","ondestroy","removeElement","parent","done","removeChild","onremove","newElement","insertBefore","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","k","newKey","keyedNode","count","names","down","up","item","querySelector"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// 通过h函数转化成node对象树\nexport function h(name, attributes) {\n\n    var rest = []\n    var children = []\n    var length = arguments.length\n\n    while (length-- > 2) rest.push(arguments[length])\n\n    while (rest.length) {\n        var node = rest.pop()\n        // 考虑 {}中运行函数的情况，如map\n        if (node && node.pop) {\n            for (length = node.length; length--; ) {\n                rest.push(node[length])\n            }\n        } else if (node != null && node !== true && node !== false) {\n            children.push(node)\n        }\n    }\n\n    return typeof name === \"function\"\n        ? name(attributes || {}, children)\n        : {\n            nodeName: name,\n            attributes: attributes || {},\n            children: children,\n            key: attributes && attributes.key\n        }\n}\n\nexport function app(state, actions, view, container) {\n    var map = [].map\n    var rootElement = (container && container.children[0]) || null\n\n    // 如果原先有dom节点则转化成oldNode\n    var oldNode = rootElement && recycleElement(rootElement);\n\n    console.log(oldNode);\n\n    var lifecycle = []\n    var skipRender\n    var isRecycling = true\n    var globalState = clone(state)\n    var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n    scheduleRender()\n\n    return wiredActions\n\n    function recycleElement(element) {\n        return {\n            nodeName: element.nodeName.toLowerCase(),\n            attributes: {},\n            children: map.call(element.childNodes, function(element) {\n                return element.nodeType === 3 // Node.TEXT_NODE\n                    ? element.nodeValue\n                    : recycleElement(element)\n            })\n        }\n    }\n\n    function resolveNode(node) {\n        return typeof node === \"function\"\n            ? resolveNode(node(globalState, wiredActions))\n            : node != null\n                ? node\n                : \"\"\n    }\n\n    function render() {\n        skipRender = !skipRender\n\n        var node = resolveNode(view)\n\n        if (container && !skipRender) {\n            rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n        }\n\n        isRecycling = false\n\n        while (lifecycle.length) lifecycle.pop()()\n    }\n\n    function scheduleRender() {\n        if (!skipRender) {\n            skipRender = true\n            setTimeout(render)\n        }\n    }\n\n    function clone(target, source) {\n        var out = {}\n\n        for (var i in target) out[i] = target[i]\n        for (var i in source) out[i] = source[i]\n\n        return out\n    }\n\n    function setPartialState(path, value, source) {\n        var target = {}\n        if (path.length) {\n            target[path[0]] =\n                path.length > 1\n                    ? setPartialState(path.slice(1), value, source[path[0]])\n                    : value\n            return clone(source, target)\n        }\n        return value\n    }\n\n    function getPartialState(path, source) {\n        var i = 0\n        while (i < path.length) {\n            source = source[path[i++]]\n        }\n        return source\n    }\n\n    function wireStateToActions(path, state, actions) {\n        for (var key in actions) {\n            typeof actions[key] === \"function\"\n                ? (function(key, action) {\n                    actions[key] = function(data) {\n                        var result = action(data)\n\n                        if (typeof result === \"function\") {\n                            result = result(getPartialState(path, globalState), actions)\n                        }\n\n                        if (\n                            result &&\n                            result !== (state = getPartialState(path, globalState)) &&\n                            !result.then // !isPromise\n                        ) {\n                            scheduleRender(\n                                (globalState = setPartialState(\n                                    path,\n                                    clone(state, result),\n                                    globalState\n                                ))\n                            )\n                        }\n\n                        return result\n                    }\n                })(key, actions[key])\n                : wireStateToActions(\n                path.concat(key),\n                (state[key] = clone(state[key])),\n                (actions[key] = clone(actions[key]))\n                )\n        }\n\n        return actions\n    }\n\n    function getKey(node) {\n        return node ? node.key : null\n    }\n\n    function eventListener(event) {\n        return event.currentTarget.events[event.type](event)\n    }\n\n    function updateAttribute(element, name, value, oldValue, isSvg) {\n        if (name === \"key\") {\n        } else if (name === \"style\") {\n            if (typeof value === \"string\") {\n                element.style.cssText = value\n            } else {\n                if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n                for (var i in clone(oldValue, value)) {\n                    var style = value == null || value[i] == null ? \"\" : value[i]\n                    if (i[0] === \"-\") {\n                        element.style.setProperty(i, style)\n                    } else {\n                        element.style[i] = style\n                    }\n                }\n            }\n        } else {\n            if (name[0] === \"o\" && name[1] === \"n\") {\n                name = name.slice(2)\n\n                if (element.events) {\n                    if (!oldValue) oldValue = element.events[name]\n                } else {\n                    element.events = {}\n                }\n\n                element.events[name] = value\n\n                if (value) {\n                    if (!oldValue) {\n                        element.addEventListener(name, eventListener)\n                    }\n                } else {\n                    element.removeEventListener(name, eventListener)\n                }\n            } else if (\n                name in element &&\n                name !== \"list\" &&\n                name !== \"type\" &&\n                name !== \"draggable\" &&\n                name !== \"spellcheck\" &&\n                name !== \"translate\" &&\n                !isSvg\n            ) {\n                element[name] = value == null ? \"\" : value\n            } else if (value != null && value !== false) {\n                element.setAttribute(name, value)\n            }\n\n            if (value == null || value === false) {\n                element.removeAttribute(name)\n            }\n        }\n    }\n\n    function createElement(node, isSvg) {\n        var element =\n            typeof node === \"string\" || typeof node === \"number\"\n                ? document.createTextNode(node)\n                : (isSvg = isSvg || node.nodeName === \"svg\")\n                ? document.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    node.nodeName\n                )\n                : document.createElement(node.nodeName)\n\n        var attributes = node.attributes\n        if (attributes) {\n            if (attributes.oncreate) {\n                lifecycle.push(function() {\n                    attributes.oncreate(element)\n                })\n            }\n\n            for (var i = 0; i < node.children.length; i++) {\n                element.appendChild(\n                    createElement(\n                        (node.children[i] = resolveNode(node.children[i])),\n                        isSvg\n                    )\n                )\n            }\n\n            for (var name in attributes) {\n                updateAttribute(element, name, attributes[name], null, isSvg)\n            }\n        }\n\n        return element\n    }\n\n    function updateElement(element, oldAttributes, attributes, isSvg) {\n        for (var name in clone(oldAttributes, attributes)) {\n            if (\n                attributes[name] !==\n                (name === \"value\" || name === \"checked\"\n                    ? element[name]\n                    : oldAttributes[name])\n            ) {\n                updateAttribute(\n                    element,\n                    name,\n                    attributes[name],\n                    oldAttributes[name],\n                    isSvg\n                )\n            }\n        }\n\n        var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n        if (cb) {\n            lifecycle.push(function() {\n                cb(element, oldAttributes)\n            })\n        }\n    }\n\n    function removeChildren(element, node) {\n        var attributes = node.attributes\n        if (attributes) {\n            for (var i = 0; i < node.children.length; i++) {\n                removeChildren(element.childNodes[i], node.children[i])\n            }\n\n            if (attributes.ondestroy) {\n                attributes.ondestroy(element)\n            }\n        }\n        return element\n    }\n\n    function removeElement(parent, element, node) {\n        function done() {\n            parent.removeChild(removeChildren(element, node))\n        }\n\n        var cb = node.attributes && node.attributes.onremove\n        if (cb) {\n            cb(element, done)\n        } else {\n            done()\n        }\n    }\n\n    function patch(parent, element, oldNode, node, isSvg) {\n        if (node === oldNode) {\n        } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n            var newElement = createElement(node, isSvg)\n            parent.insertBefore(newElement, element)\n\n            if (oldNode != null) {\n                removeElement(parent, element, oldNode)\n            }\n\n            element = newElement\n        } else if (oldNode.nodeName == null) {\n            element.nodeValue = node\n        } else {\n            updateElement(\n                element,\n                oldNode.attributes,\n                node.attributes,\n                (isSvg = isSvg || node.nodeName === \"svg\")\n            )\n\n            var oldKeyed = {}\n            var newKeyed = {}\n            var oldElements = []\n            var oldChildren = oldNode.children\n            var children = node.children\n\n            for (var i = 0; i < oldChildren.length; i++) {\n                oldElements[i] = element.childNodes[i]\n\n                var oldKey = getKey(oldChildren[i])\n                if (oldKey != null) {\n                    oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n                }\n            }\n\n            var i = 0\n            var k = 0\n\n            while (k < children.length) {\n                var oldKey = getKey(oldChildren[i])\n                var newKey = getKey((children[k] = resolveNode(children[k])))\n\n                if (newKeyed[oldKey]) {\n                    i++\n                    continue\n                }\n\n                if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n                    if (oldKey == null) {\n                        removeElement(element, oldElements[i], oldChildren[i])\n                    }\n                    i++\n                    continue\n                }\n\n                if (newKey == null || isRecycling) {\n                    if (oldKey == null) {\n                        patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n                        k++\n                    }\n                    i++\n                } else {\n                    var keyedNode = oldKeyed[newKey] || []\n\n                    if (oldKey === newKey) {\n                        patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n                        i++\n                    } else if (keyedNode[0]) {\n                        patch(\n                            element,\n                            element.insertBefore(keyedNode[0], oldElements[i]),\n                            keyedNode[1],\n                            children[k],\n                            isSvg\n                        )\n                    } else {\n                        patch(element, oldElements[i], null, children[k], isSvg)\n                    }\n\n                    newKeyed[newKey] = children[k]\n                    k++\n                }\n            }\n\n            while (i < oldChildren.length) {\n                if (getKey(oldChildren[i]) == null) {\n                    removeElement(element, oldElements[i], oldChildren[i])\n                }\n                i++\n            }\n\n            for (var i in oldKeyed) {\n                if (!newKeyed[i]) {\n                    removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n                }\n            }\n        }\n        return element\n    }\n}","import { h, app } from './hyperapp';\n\nconst state = {\n    count: 5,\n    names: [\n        '美柚',\n        '柚宝宝',\n        '返还购'\n    ]\n}\n\nconst actions = {\n    down: value => state => ({ count: state.count - value }),\n    up: value => state => ({ count: state.count + value })\n}\n\nconst view = (state, actions) => (\n    <div>\n        <h1>{state.count}</h1>\n        <button onclick={ () => actions.down(1) }> - </button>\n        <button onclick={ () => actions.up(1) }> + </button>\n        {\n            state.names.map(item =>\n                <div>{ item }</div>\n            )\n        }\n    </div>\n);\n\napp(state, actions, view, document.querySelector('#app'));"],"sourceRoot":""}