{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/hyperapp.js","webpack:///./src/index.js"],"names":["h","name","attributes","console","log","rest","children","length","arguments","push","node","pop","nodeName","key","app","state","actions","view","container","map","rootElement","oldNode","recycleElement","lifecycle","skipRender","isRecycling","globalState","clone","wiredActions","wireStateToActions","scheduleRender","element","toLowerCase","call","childNodes","nodeType","nodeValue","resolveNode","render","patch","setTimeout","target","source","out","i","setPartialState","path","value","slice","getPartialState","action","data","result","then","concat","getKey","eventListener","event","currentTarget","events","type","updateAttribute","oldValue","isSvg","style","cssText","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateElement","oldAttributes","cb","onupdate","removeChildren","ondestroy","removeElement","parent","done","removeChild","onremove","newElement","insertBefore","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","k","newKey","keyedNode","count","names","down","up","body"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export function h(name, attributes) {\r\n    console.log('--------------------------');\r\n    console.log('name', name);\r\n    var rest = []\r\n    var children = []\r\n    var length = arguments.length\r\n\r\n    console.log('arguments', arguments);\r\n\r\n    while (length-- > 2) rest.push(arguments[length])\r\n\r\n    console.log('rest', rest);\r\n\r\n    while (rest.length) {\r\n        var node = rest.pop()\r\n        console.log('node', node, node.pop);\r\n        if (node && node.pop) {\r\n            for (length = node.length; length--; ) {\r\n                rest.push(node[length])\r\n            }\r\n        } else if (node != null && node !== true && node !== false) {\r\n            children.push(node)\r\n        }\r\n    }\r\n\r\n\r\n    return typeof name === \"function\"\r\n        ? name(attributes || {}, children)\r\n        : {\r\n            nodeName: name,\r\n            attributes: attributes || {},\r\n            children: children,\r\n            key: attributes && attributes.key\r\n        }\r\n}\r\n\r\nexport function app(state, actions, view, container) {\r\n    var map = [].map\r\n    var rootElement = (container && container.children[0]) || null\r\n    var oldNode = rootElement && recycleElement(rootElement)\r\n    var lifecycle = []\r\n    var skipRender\r\n    var isRecycling = true\r\n    var globalState = clone(state)\r\n    var wiredActions = wireStateToActions([], globalState, clone(actions))\r\n\r\n    scheduleRender()\r\n\r\n    return wiredActions\r\n\r\n    function recycleElement(element) {\r\n        return {\r\n            nodeName: element.nodeName.toLowerCase(),\r\n            attributes: {},\r\n            children: map.call(element.childNodes, function(element) {\r\n                return element.nodeType === 3 // Node.TEXT_NODE\r\n                    ? element.nodeValue\r\n                    : recycleElement(element)\r\n            })\r\n        }\r\n    }\r\n\r\n    function resolveNode(node) {\r\n        return typeof node === \"function\"\r\n            ? resolveNode(node(globalState, wiredActions))\r\n            : node != null\r\n                ? node\r\n                : \"\"\r\n    }\r\n\r\n    function render() {\r\n        skipRender = !skipRender\r\n\r\n        var node = resolveNode(view)\r\n        \r\n        if (container && !skipRender) {\r\n            rootElement = patch(container, rootElement, oldNode, (oldNode = node))\r\n        }\r\n\r\n        isRecycling = false\r\n\r\n        while (lifecycle.length) lifecycle.pop()()\r\n    }\r\n\r\n    function scheduleRender() {\r\n        if (!skipRender) {\r\n            skipRender = true\r\n            setTimeout(render)\r\n        }\r\n    }\r\n\r\n    function clone(target, source) {\r\n        var out = {}\r\n\r\n        for (var i in target) out[i] = target[i]\r\n        for (var i in source) out[i] = source[i]\r\n\r\n        return out\r\n    }\r\n\r\n    function setPartialState(path, value, source) {\r\n        var target = {}\r\n        if (path.length) {\r\n            target[path[0]] =\r\n                path.length > 1\r\n                    ? setPartialState(path.slice(1), value, source[path[0]])\r\n                    : value\r\n            return clone(source, target)\r\n        }\r\n        return value\r\n    }\r\n\r\n    function getPartialState(path, source) {\r\n        var i = 0\r\n        while (i < path.length) {\r\n            source = source[path[i++]]\r\n        }\r\n        return source\r\n    }\r\n\r\n    function wireStateToActions(path, state, actions) {\r\n        for (var key in actions) {\r\n            typeof actions[key] === \"function\"\r\n                ? (function(key, action) {\r\n                    actions[key] = function(data) {\r\n                        var result = action(data)\r\n\r\n                        if (typeof result === \"function\") {\r\n                            result = result(getPartialState(path, globalState), actions)\r\n                        }\r\n\r\n                        if (\r\n                            result &&\r\n                            result !== (state = getPartialState(path, globalState)) &&\r\n                            !result.then // !isPromise\r\n                        ) {\r\n                            scheduleRender(\r\n                                (globalState = setPartialState(\r\n                                    path,\r\n                                    clone(state, result),\r\n                                    globalState\r\n                                ))\r\n                            )\r\n                        }\r\n\r\n                        return result\r\n                    }\r\n                })(key, actions[key])\r\n                : wireStateToActions(\r\n                path.concat(key),\r\n                (state[key] = clone(state[key])),\r\n                (actions[key] = clone(actions[key]))\r\n                )\r\n        }\r\n\r\n        return actions\r\n    }\r\n\r\n    function getKey(node) {\r\n        return node ? node.key : null\r\n    }\r\n\r\n    function eventListener(event) {\r\n        return event.currentTarget.events[event.type](event)\r\n    }\r\n\r\n    function updateAttribute(element, name, value, oldValue, isSvg) {\r\n        if (name === \"key\") {\r\n        } else if (name === \"style\") {\r\n            if (typeof value === \"string\") {\r\n                element.style.cssText = value\r\n            } else {\r\n                if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\r\n                for (var i in clone(oldValue, value)) {\r\n                    var style = value == null || value[i] == null ? \"\" : value[i]\r\n                    if (i[0] === \"-\") {\r\n                        element.style.setProperty(i, style)\r\n                    } else {\r\n                        element.style[i] = style\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (name[0] === \"o\" && name[1] === \"n\") {\r\n                name = name.slice(2)\r\n\r\n                if (element.events) {\r\n                    if (!oldValue) oldValue = element.events[name]\r\n                } else {\r\n                    element.events = {}\r\n                }\r\n\r\n                element.events[name] = value\r\n\r\n                if (value) {\r\n                    if (!oldValue) {\r\n                        element.addEventListener(name, eventListener)\r\n                    }\r\n                } else {\r\n                    element.removeEventListener(name, eventListener)\r\n                }\r\n            } else if (\r\n                name in element &&\r\n                name !== \"list\" &&\r\n                name !== \"type\" &&\r\n                name !== \"draggable\" &&\r\n                name !== \"spellcheck\" &&\r\n                name !== \"translate\" &&\r\n                !isSvg\r\n            ) {\r\n                element[name] = value == null ? \"\" : value\r\n            } else if (value != null && value !== false) {\r\n                element.setAttribute(name, value)\r\n            }\r\n\r\n            if (value == null || value === false) {\r\n                element.removeAttribute(name)\r\n            }\r\n        }\r\n    }\r\n\r\n    function createElement(node, isSvg) {\r\n        var element =\r\n            typeof node === \"string\" || typeof node === \"number\"\r\n                ? document.createTextNode(node)\r\n                : (isSvg = isSvg || node.nodeName === \"svg\")\r\n                ? document.createElementNS(\r\n                    \"http://www.w3.org/2000/svg\",\r\n                    node.nodeName\r\n                )\r\n                : document.createElement(node.nodeName)\r\n\r\n        var attributes = node.attributes\r\n        if (attributes) {\r\n            if (attributes.oncreate) {\r\n                lifecycle.push(function() {\r\n                    attributes.oncreate(element)\r\n                })\r\n            }\r\n\r\n            for (var i = 0; i < node.children.length; i++) {\r\n                element.appendChild(\r\n                    createElement(\r\n                        (node.children[i] = resolveNode(node.children[i])),\r\n                        isSvg\r\n                    )\r\n                )\r\n            }\r\n\r\n            for (var name in attributes) {\r\n                updateAttribute(element, name, attributes[name], null, isSvg)\r\n            }\r\n        }\r\n\r\n        return element\r\n    }\r\n\r\n    function updateElement(element, oldAttributes, attributes, isSvg) {\r\n        for (var name in clone(oldAttributes, attributes)) {\r\n            if (\r\n                attributes[name] !==\r\n                (name === \"value\" || name === \"checked\"\r\n                    ? element[name]\r\n                    : oldAttributes[name])\r\n            ) {\r\n                updateAttribute(\r\n                    element,\r\n                    name,\r\n                    attributes[name],\r\n                    oldAttributes[name],\r\n                    isSvg\r\n                )\r\n            }\r\n        }\r\n\r\n        var cb = isRecycling ? attributes.oncreate : attributes.onupdate\r\n        if (cb) {\r\n            lifecycle.push(function() {\r\n                cb(element, oldAttributes)\r\n            })\r\n        }\r\n    }\r\n\r\n    function removeChildren(element, node) {\r\n        var attributes = node.attributes\r\n        if (attributes) {\r\n            for (var i = 0; i < node.children.length; i++) {\r\n                removeChildren(element.childNodes[i], node.children[i])\r\n            }\r\n\r\n            if (attributes.ondestroy) {\r\n                attributes.ondestroy(element)\r\n            }\r\n        }\r\n        return element\r\n    }\r\n\r\n    function removeElement(parent, element, node) {\r\n        function done() {\r\n            parent.removeChild(removeChildren(element, node))\r\n        }\r\n\r\n        var cb = node.attributes && node.attributes.onremove\r\n        if (cb) {\r\n            cb(element, done)\r\n        } else {\r\n            done()\r\n        }\r\n    }\r\n\r\n    function patch(parent, element, oldNode, node, isSvg) {\r\n        if (node === oldNode) {\r\n        } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\r\n            var newElement = createElement(node, isSvg)\r\n            parent.insertBefore(newElement, element)\r\n\r\n            if (oldNode != null) {\r\n                removeElement(parent, element, oldNode)\r\n            }\r\n\r\n            element = newElement\r\n        } else if (oldNode.nodeName == null) {\r\n            element.nodeValue = node\r\n        } else {\r\n            updateElement(\r\n                element,\r\n                oldNode.attributes,\r\n                node.attributes,\r\n                (isSvg = isSvg || node.nodeName === \"svg\")\r\n            )\r\n\r\n            var oldKeyed = {}\r\n            var newKeyed = {}\r\n            var oldElements = []\r\n            var oldChildren = oldNode.children\r\n            var children = node.children\r\n\r\n            for (var i = 0; i < oldChildren.length; i++) {\r\n                oldElements[i] = element.childNodes[i]\r\n\r\n                var oldKey = getKey(oldChildren[i])\r\n                if (oldKey != null) {\r\n                    oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\r\n                }\r\n            }\r\n\r\n            var i = 0\r\n            var k = 0\r\n\r\n            while (k < children.length) {\r\n                var oldKey = getKey(oldChildren[i])\r\n                var newKey = getKey((children[k] = resolveNode(children[k])))\r\n\r\n                if (newKeyed[oldKey]) {\r\n                    i++\r\n                    continue\r\n                }\r\n\r\n                if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\r\n                    if (oldKey == null) {\r\n                        removeElement(element, oldElements[i], oldChildren[i])\r\n                    }\r\n                    i++\r\n                    continue\r\n                }\r\n\r\n                if (newKey == null || isRecycling) {\r\n                    if (oldKey == null) {\r\n                        patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\r\n                        k++\r\n                    }\r\n                    i++\r\n                } else {\r\n                    var keyedNode = oldKeyed[newKey] || []\r\n\r\n                    if (oldKey === newKey) {\r\n                        patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\r\n                        i++\r\n                    } else if (keyedNode[0]) {\r\n                        patch(\r\n                            element,\r\n                            element.insertBefore(keyedNode[0], oldElements[i]),\r\n                            keyedNode[1],\r\n                            children[k],\r\n                            isSvg\r\n                        )\r\n                    } else {\r\n                        patch(element, oldElements[i], null, children[k], isSvg)\r\n                    }\r\n\r\n                    newKeyed[newKey] = children[k]\r\n                    k++\r\n                }\r\n            }\r\n\r\n            while (i < oldChildren.length) {\r\n                if (getKey(oldChildren[i]) == null) {\r\n                    removeElement(element, oldElements[i], oldChildren[i])\r\n                }\r\n                i++\r\n            }\r\n\r\n            for (var i in oldKeyed) {\r\n                if (!newKeyed[i]) {\r\n                    removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\r\n                }\r\n            }\r\n        }\r\n        return element\r\n    }\r\n}","import { h, app } from './hyperapp';\r\n\r\nconst state = {\r\n    count: 5,\r\n    names: [\r\n        '美柚',\r\n        '柚宝宝',\r\n        '返还购'\r\n    ]\r\n}\r\n\r\nconst actions = {\r\n    down: value => state => ({ count: state.count - value }),\r\n    up: value => state => ({ count: state.count + value })\r\n}\r\n\r\nconst view = (state, actions) => (\r\n    <div>\r\n        <h1>{state.count}</h1>\r\n        <button onclick={ () => actions.down(1) }> - </button>\r\n        <button onclick={ () => actions.up(1) }> + </button>\r\n    </div>\r\n);\r\n\r\napp(state, actions, view, document.body);"],"sourceRoot":""}